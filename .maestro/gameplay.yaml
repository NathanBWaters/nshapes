appId: com.nshapes.app
---
# NShapes Gameplay Test Flow
# This test will play through a basic game session

# Wait for the app to fully load
- launchApp

# Wait for the main menu to appear
- extendedWaitUntil:
    visible: "NSHAPES"
    timeout: 10000

# Step 1: Choose Adventure mode using testID
- tapOn:
    id: "menu-adventure"

# Step 2: Wait for character selection screen
- extendedWaitUntil:
    visible: "CHOOSE YOUR CHARACTER"
    timeout: 8000

# Step 3: Tap on the first character (Orange Tabby should be auto-selected or tap it)
- tapOn: "ORANGE TABBY"

# Dismiss Expo debugger banner if visible by tapping X (bottom right)
- tapOn:
    point: "92%,96%"

# Step 4: Tap Start Adventure button (yellow button near bottom, above safe area)
- tapOn:
    point: "50%,90%"

# Step 4b: Wait a moment for tutorial prompt modal to appear
- swipe:
    start: "50%, 50%"
    end: "50%, 50%"
    duration: 500

# Step 4c: Tap "Skip - Start Adventure" on tutorial prompt to skip tutorial
- tapOn:
    point: "50%,57%"

# Step 5: Wait for game board to appear (look for MENU button which is always visible)
- extendedWaitUntil:
    visible: "MENU"
    timeout: 10000

# Step 6: Tap three cards to attempt a match
# Cards are arranged in a 3-column grid
# First card - left column
- tapOn:
    point: "20%,50%"

# Small delay between taps
- swipe:
    start: "50%, 50%"
    end: "50%, 50%"
    duration: 200

# Second card - middle column
- tapOn:
    point: "50%,50%"

# Small delay
- swipe:
    start: "50%, 50%"
    end: "50%, 50%"
    duration: 200

# Third card - right column
- tapOn:
    point: "80%,50%"

# Wait for any animation to complete
- swipe:
    start: "50%, 50%"
    end: "50%, 50%"
    duration: 500

# Verify the game completed (either still playing with MENU visible, or game over with PLAY AGAIN)
- assertVisible:
    text: "MENU|PLAY AGAIN|GAME OVER"
